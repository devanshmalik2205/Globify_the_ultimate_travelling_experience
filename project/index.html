<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Globify - Your Travel Partner</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <header class="header">
        <div class="container">
            <div class="top-nav">
                <a href="index.html" class="logo">
                    <img src="Icon.svg" alt="G">
                    <span>Globify</span>
                </a>
                <nav class="top-nav-links">
                    <a href="#">List Your Property</a>

                    
                    <div id="auth-links" style="display: flex; gap: 1rem; align-items: center;">
                        <a href="#signInModal">Sign In</a>
                        <a href="#registerModal" class="btn btn-primary">Register</a>
                    </div>

                    
                    <div id="user-profile" class="user-profile">
                        <div id="user-icon" class="user-profile-icon"></div>
                        <span id="user-name" class="user-profile-name"></span>
                    </div>

                    <a href="About_Us.html" class="btn btn-secondary">About Us</a>
                </nav>
            </div>
            <nav class="main-nav">
                <a href="#" class="nav-item active">
                    <span>‚úàÔ∏è</span><span>Flights</span>
                </a>
                <a href="#" class="nav-item">
                    <span>üè®</span><span>Hotels & Stays</span>
                </a>
                <a href="#" class="nav-item">
                    <span>üèùÔ∏è</span><span>Holiday Packages</span>
                </a>
                <a href="#" class="nav-item">
                    <span>üöï</span><span>Cabs</span>
                </a>
                <a href="#" class="nav-item">
                    <span>üöå</span><span>Buses</span>
                </a>
                <a href="#" class="nav-item">
                    <span>üöÇ</span><span>Trains</span>
                </a>
                <a href="#" class="nav-item">
                    <span>üèõÔ∏è</span><span>Attractions</span>
                </a>
            </nav>
        </div>
    </header>

    <main>
        <!-- Hero and Booking Form (Static) -->
        <section class="hero-section">
            <div class="container">
                <div class="booking-form-container">
                    <div class="booking-form">
                        <div class="form-field">
                            <label>From</label>
                            <p class="main-text">Delhi</p>
                            <p class="sub-text">DEL, Delhi Airport India</p>
                        </div>
                        <button class="swap-button">
                            <svg style="width:1.25rem; height:1.25rem; color:#4b5563;" fill="none" stroke="currentColor"
                                viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"></path>
                            </svg>
                        </button>
                        <div class="form-field">
                            <label>To</label>
                            <p class="main-text">Bengaluru</p>
                            <p class="sub-text">BLR, Bengaluru Intl</p>
                        </div>
                        <div class="form-field">
                            <label>Departure</label>
                            <p class="main-text">15 Sep'25</p>
                            <p class="sub-text">Monday</p>
                        </div>
                        <div class="form-field">
                            <label>Return</label>
                            <p class="sub-text" style="padding-top: 1.5rem; font-size: 1rem;">Tap to add</p>
                        </div>
                        <div class="form-field">
                            <label>Travellers & Class</label>
                            <p class="main-text">1 Traveller</p>
                            <p class="sub-text">Economy</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Dynamic Locations Section -->
        <section class="section">
            <div class="container">
                <h2 class="section-title">Explore 1000+ Famous Locations with us!</h2>
                <p class="section-subtitle">Discover the most in-demand locations at the lowest prices available and get
                    the best customer experience.</p>
                <div class="slider-wrapper">
                    <!-- Locations will be injected here by JS -->
                    <div id="locationsContainer" class="slider-container">
                        <!-- Loading... -->
                    </div>
                    <button id="locationsScrollLeft" class="scroll-btn left">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7">
                            </path>
                        </svg>
                    </button>
                    <button id="locationsScrollRight" class="scroll-btn right">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7">
                            </path>
                        </svg>
                    </button>
                </div>
            </div>
        </section>
        
        <!-- Dynamic Homes Section -->
        <section class="section" style="background-color:#f9fafb;">
            <div class="container">
                <h2 class="section-title">Featured Homes Recommended for you</h2>
                <div class="slider-wrapper">
                    <!-- Homes will be injected here by JS -->
                    <div id="homesContainer" class="slider-container">
                        <!-- Loading... -->
                    </div>
                    <button id="homesScrollLeft" class="scroll-btn left">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7">
                            </path>
                        </svg>
                    </button>
                    <button id="homesScrollRight" class="scroll-btn right">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7">
                            </path>
                        </svg>
                    </button>
                </div>
            </div>
        </section>

        <!-- Download Banner (Static) -->
        <section class="section">
            <div class="container">
                <div class="download-banner">
                    <div>
                        <h2 class="section-title" style="color:white; font-size: 2.25rem; margin-bottom: 0.75rem;">
                            Download our App</h2>
                        <p class="section-subtitle" style="color:white; opacity:0.9; max-width: 36rem;">Get BEST DEALS
                            on vocational and business accommodation at your convenient on your phone with us.</p>
                    </div>
                    <div class="qr-code">
                        <img src="Hatt_qrcode 2.png" alt="QR Code">
                    </div>
                </div>
            </div>
        </section>

        <!-- Dynamic Testimonials Section -->
        <section class="section">
            <div class="container" style="text-align: center;">
                <h2 class="section-title">What does Customers Say About us</h2>
                <p class="section-subtitle" style="margin: 0.5rem auto;">We are rated 4.8/5 in Travelling and Business
                    Accommodation.</p>
                <!-- Testimonials will be injected here by JS -->
                <div id="testimonialsGrid" class="testimonials-grid">
                    <!-- Loading... -->
                </div>
            </div>
        </section>
    </main>

    <!-- Footer (Static) -->
    <footer class="footer">
        <div class="container">
            <div class="footer-grid">
                <div>
                    <a href="#" class="logo" style="color:white; font-size:1.5rem;">
                        <img src="Icon.svg" alt="G">
                        <span>Globify</span>
                    </a>
                </div>
                <div>
                    <h4>Explore</h4>
                    <ul class="footer-links">
                        <li><a href="#">Flights</a></li>
                        <li><a href="#">Hotels</a></li>
                        <li><a href="#">Cabs</a></li>
                        <li><a href="#">Car Rental</a></li>
                    </ul>
                </div>
                <div>
                    <h4>Company</h4>
                    <ul class="footer-links">
                        <li><a href="About_Us.html">About Us</a></li>
                        <li><a href="#">How it works</a></li>
                        <li><a href="#">Careers</a></li>
                        <li><a href="#">Contact</a></li>
                    </ul>
                </div>
                <div>
                    <h4>Subscribe</h4>
                    <p style="font-size:0.875rem;">Join our newsletter to stay updated.</p>
                    <div class="subscribe-form"><input type="email" placeholder="Your email"><button>‚Üí</button></div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>Copyright @ 2025 Globify. All rights reserved.</p>
                <div class="socials"><span>f</span><span>in</span><span>t</span><span>m</span></div>
            </div>
        </div>
    </footer>

    <!-- Modals (Static) -->
    <div id="signInModal" class="modal-overlay">
        <div class="modal-content">
            <a href="#" class="modal-close-btn">&times;</a>
            <div class="auth-card">
                <h2>Sign In</h2>
                <form id="signInForm">
                    <input type="email" placeholder="Your email" required>
                    <input type="password" placeholder="Password" required>
                    <button type="submit" class="btn btn-primary auth-btn">Enter</button>
                </form>
                <p class="auth-switch">New here? <a href="#registerModal">Create an account</a></p>
            </div>
        </div>
    </div>

    <div id="registerModal" class="modal-overlay">
        <div class="modal-content">
            <a href="#" class="modal-close-btn">&times;</a>
            <div class="auth-card">
                <h2>Register</h2>
                <form id="registerForm">
                    <input id="register-name" type="text" placeholder="Name" required>
                    <input type="email" placeholder="Your email" required>
                    <input type="date" placeholder="Date of Birth" required>
                    <input type="password" placeholder="Create Password" required>
                    <input type="password" placeholder="Confirm Password" required>
                    <button type="submit" class="btn btn-primary auth-btn">Enter</button>
                </form>
                <p class="auth-switch">Already have an account? <a href="#signInModal">Sign in</a></p>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {

            // --- OOP Implementation for Sliders ---
            class Slider {
                constructor(containerId, scrollLeftId, scrollRightId, cardSelector) {
                    this.container = document.getElementById(containerId);
                    this.scrollLeftBtn = document.getElementById(scrollLeftId);
                    this.scrollRightBtn = document.getElementById(scrollRightId);
                    this.cardSelector = cardSelector;

                    if (this.container && this.scrollLeftBtn && this.scrollRightBtn) {
                        this.init();
                    }
                }

                init() {
                    this.scrollRightBtn.addEventListener('click', () => this.scroll('right'));
                    this.scrollLeftBtn.addEventListener('click', () => this.scroll('left'));
                }

                scroll(direction) {
                    // Selects the first card *or* the view more card
                    const card = this.container.querySelector(this.cardSelector); 
                    if (card) {
                        const scrollAmount = card.offsetWidth + 24; // 24px gap
                        const scrollValue = direction === 'right' ? scrollAmount : -scrollAmount;
                        this.container.scrollBy({ left: scrollValue, behavior: 'smooth' });
                    }
                }
            }

            // --- Dynamic Content Rendering Functions ---

            // 1. Render Locations
            const renderLocations = (locations) => {
                const container = document.getElementById('locationsContainer');
                if (!container) return;

                // Map JSON data to location cards
                let locationsHTML = locations.map(location => `
                    <a href="${location.link}">
                        <div class="location-card">
                            <div class="card-img-container"><img src="${location.image}" alt="${location.title}" class="card-img"></div>
                            <h3 class="card-title">${location.title}</h3>
                        </div>
                    </a>
                `).join('');

                // Add the "View More" card at the end
                locationsHTML += `
                    <a href="all_locations.html" class="view-more-card-link"> 
                        <div class="view-more-card location-card-size">
                            <span aria-hidden="true">‚Üí</span>
                            <p>View More</p>
                        </div>
                    </a>
                `;
                
                container.innerHTML = locationsHTML;
                // Initialize the slider *after* content is loaded
                new Slider('locationsContainer', 'locationsScrollLeft', 'locationsScrollRight', '.location-card, .view-more-card-link');
            };

            // 2. Render Homes
            const renderHomes = (homes) => {
                const container = document.getElementById('homesContainer');
                if (!container) return;

                // Map JSON data to hotel cards
                let homesHTML = homes.map(home => `
                    <a href="${home.link}" class="link_rooms">
                        <div class="hotel-card">
                            <div class="card-img-container">
                                <img src="${home.image}" alt="${home.title}" class="card-img">
                                <span class="rating-badge">${home.rating}</span>
                            </div>
                            <div class="card-content">
                                <h3 class="card-title-main">${home.title}</h3>
                                <p class="card-subtitle">${home.subtitle}</p>
                                <p class="price">${home.price} <span class="price-subtext">/ night</span></p>
                                <button class="details-btn">View Details</button>
                            </div>
                        </div>
                    </a>
                `).join('');

                // Add the "View More" card at the end
                homesHTML += `
                    <a href="all_homes.html" class="view-more-card-link">
                        <div class="view-more-card hotel-card-size">
                            <span aria-hidden="true">‚Üí</span>
                            <p>View More</p>
                        </div>
                    </a>
                `;

                container.innerHTML = homesHTML;
                // Initialize the slider *after* content is loaded
                new Slider('homesContainer', 'homesScrollLeft', 'homesScrollRight', '.link_rooms, .view-more-card-link');
            };

            // 3. Render Testimonials
            const renderTestimonials = (testimonials) => {
                const grid = document.getElementById('testimonialsGrid');
                if (!grid) return;
                grid.innerHTML = testimonials.map(testimonial => `
                    <div class="testimonial-card">
                        <div class="testimonial-quote-icon">‚Äú</div>
                        <div class="testimonial-header">
                            <h3>${testimonial.name}</h3>
                            <div class="testimonial-stars">${testimonial.ratingStars}</div>
                        </div>
                        <p>"${testimonial.quote}"</p>
                    </div>
                `).join('');
            };

            // --- Fetch Data and Render ---

            // Fetch locations
            fetch('locations.json')
                .then(response => response.json())
                .then(renderLocations)
                .catch(error => {
                    console.error('Error fetching locations:', error);
                    document.getElementById('locationsContainer').innerHTML = "<p>Could not load locations.</p>";
                });

            // Fetch homes
            fetch('homes.json')
                .then(response => response.json())
                .then(renderHomes)
                .catch(error => {
                    console.error('Error fetching homes:', error);
                    document.getElementById('homesContainer').innerHTML = "<p>Could not load homes.</p>";
                });

            // Fetch testimonials
            fetch('testimonials.json')
                .then(response => response.json())
                .then(renderTestimonials)
                .catch(error => {
                    console.error('Error fetching testimonials:', error);
                    document.getElementById('testimonialsGrid').innerHTML = "<p>Could not load testimonials.</p>";
                });


            // --- Authentication Logic ---
            const signInForm = document.getElementById('signInForm');
            const registerForm = document.getElementById('registerForm');

            const authLinks = document.getElementById('auth-links');
            const userProfile = document.getElementById('user-profile');
            const userNameEl = document.getElementById('user-name');
            const userIconEl = document.getElementById('user-icon');
            const registerNameInput = document.getElementById('register-name');

            const handleLogin = (name) => {
                userNameEl.textContent = name;
                userIconEl.textContent = name.charAt(0).toUpperCase();

                authLinks.style.display = 'none'; // Use style.display
                userProfile.style.display = 'flex';

                window.location.hash = '#';
            };

            if (signInForm) {
                signInForm.addEventListener('submit', function (event) {
                    event.preventDefault();
                    handleLogin('User');
                });
            }

            if (registerForm) {
                registerForm.addEventListener('submit', function (event) {
                    event.preventDefault();
                    const userName = registerNameInput.value.trim() || 'User';
                    handleLogin(userName);
                });
            }
        });
    </script>
</body>

</html>